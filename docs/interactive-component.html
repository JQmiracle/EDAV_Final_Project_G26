<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Interactive component | A Study of Manufacturing Quality Exception Data and the Patterns Behind of a Food Packaging Manufacturer</title>
  <meta name="description" content="Chapter 5 Interactive component | A Study of Manufacturing Quality Exception Data and the Patterns Behind of a Food Packaging Manufacturer" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Interactive component | A Study of Manufacturing Quality Exception Data and the Patterns Behind of a Food Packaging Manufacturer" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Interactive component | A Study of Manufacturing Quality Exception Data and the Patterns Behind of a Food Packaging Manufacturer" />
  
  
  

<meta name="author" content="Ji Qi, Xingye Feng" />


<meta name="date" content="2022-12-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Quality Exception/Reject Data Study</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="proposal.html"><a href="proposal.html"><i class="fa fa-check"></i><b>2</b> Proposal</a>
<ul>
<li class="chapter" data-level="2.1" data-path="proposal.html"><a href="proposal.html#research-topic"><i class="fa fa-check"></i><b>2.1</b> Research topic</a></li>
<li class="chapter" data-level="2.2" data-path="proposal.html"><a href="proposal.html#data-availability"><i class="fa fa-check"></i><b>2.2</b> Data availability</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#sources"><i class="fa fa-check"></i><b>3.1</b> Sources</a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#cleaning-transformation"><i class="fa fa-check"></i><b>3.2</b> Cleaning / transformation</a></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#missing-value-analysis"><i class="fa fa-check"></i><b>3.3</b> Missing value analysis</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data.html"><a href="data.html#check-missing-values-of-variable-data-before-data-cleaning"><i class="fa fa-check"></i><b>3.3.1</b> Check Missing Values of Variable Data before data cleaning</a></li>
<li class="chapter" data-level="3.3.2" data-path="data.html"><a href="data.html#check-missing-values-of-variable-data-after-data-cleaning"><i class="fa fa-check"></i><b>3.3.2</b> Check Missing Values of Variable Data after data cleaning</a></li>
<li class="chapter" data-level="3.3.3" data-path="data.html"><a href="data.html#check-missing-values-of-attribute-data-before-data-cleaning"><i class="fa fa-check"></i><b>3.3.3</b> Check Missing Values of Attribute Data before data cleaning</a></li>
<li class="chapter" data-level="3.3.4" data-path="data.html"><a href="data.html#check-missing-values-of-attribute-data-after-data-cleaning"><i class="fa fa-check"></i><b>3.3.4</b> Check Missing Values of Attribute Data after data cleaning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>4</b> Results</a>
<ul>
<li class="chapter" data-level="4.1" data-path="results.html"><a href="results.html#bar-chart-for-all-machines-to-identify-the-top-2-machines-with-the-most-defect-items"><i class="fa fa-check"></i><b>4.1</b> Bar Chart for All Machines to identify the top 2 machines with the most defect items</a></li>
<li class="chapter" data-level="4.2" data-path="results.html"><a href="results.html#group-bar-chart-to-identify-the-top-attribute-and-varibales-among-all-machines"><i class="fa fa-check"></i><b>4.2</b> Group bar chart to identify the top attribute and varibales Among all machines</a></li>
<li class="chapter" data-level="4.3" data-path="results.html"><a href="results.html#parallel-coordinate-plot-countpartweight-vs-countwall-thickness-vs-countsilicone-ratio-countall-every-line-summary"><i class="fa fa-check"></i><b>4.3</b> Parallel coordinate plot: count(partweight) vs count(wall thickness) vs count(silicone ratio) + count(all) every line summary</a></li>
<li class="chapter" data-level="4.4" data-path="results.html"><a href="results.html#ridgeline-plot-for-part-weight-exception-for-each-line-use-weight-difference-result---targettarget."><i class="fa fa-check"></i><b>4.4</b> Ridgeline plot for part weight exception for each line: use weight difference = (result - target)/target.</a></li>
<li class="chapter" data-level="4.5" data-path="results.html"><a href="results.html#multiple-boxplots-of-part-weight-result-according-to-workcenterdesc-type"><i class="fa fa-check"></i><b>4.5</b> Multiple boxplots of Part Weight Result according to WorkcenterDesc Type</a></li>
<li class="chapter" data-level="4.6" data-path="results.html"><a href="results.html#pick-machine-i4-and-i7-to-study-because-they-have-most-exceptions."><i class="fa fa-check"></i><b>4.6</b> Pick machine I4 and I7 to study because they have most exceptions.</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="results.html"><a href="results.html#study-machine-i4"><i class="fa fa-check"></i><b>4.6.1</b> Study Machine I4</a></li>
<li class="chapter" data-level="4.6.2" data-path="results.html"><a href="results.html#study-machine-i7"><i class="fa fa-check"></i><b>4.6.2</b> Study Machine I7</a></li>
<li class="chapter" data-level="4.6.3" data-path="results.html"><a href="results.html#time-series-plot-of-attribute-exception-throughout-the-3-months.-for-i4-and-i7-repectively.-overall-by-week"><i class="fa fa-check"></i><b>4.6.3</b> Time series plot of attribute exception throughout the 3 months. For I4 and I7 repectively. (overall + by week)</a></li>
<li class="chapter" data-level="4.6.4" data-path="results.html"><a href="results.html#heatmap"><i class="fa fa-check"></i><b>4.6.4</b> Heatmap</a></li>
<li class="chapter" data-level="4.6.5" data-path="results.html"><a href="results.html#scatter-plot"><i class="fa fa-check"></i><b>4.6.5</b> Scatter Plot</a></li>
<li class="chapter" data-level="4.6.6" data-path="results.html"><a href="results.html#cleveland-dot-plot-with-multiple-dots"><i class="fa fa-check"></i><b>4.6.6</b> Cleveland dot plot with multiple dots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>5</b> Interactive component</a>
<ul>
<li class="chapter" data-level="5.1" data-path="interactive-component.html"><a href="interactive-component.html#new-interactive-features"><i class="fa fa-check"></i><b>5.1</b> New Interactive Features:</a></li>
<li class="chapter" data-level="5.2" data-path="interactive-component.html"><a href="interactive-component.html#instructions-for-users"><i class="fa fa-check"></i><b>5.2</b> Instructions for users:</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>6</b> Conclusion</a>
<ul>
<li class="chapter" data-level="6.1" data-path="conclusion.html"><a href="conclusion.html#takeaways"><i class="fa fa-check"></i><b>6.1</b> Takeaways</a></li>
<li class="chapter" data-level="6.2" data-path="conclusion.html"><a href="conclusion.html#limitation-and-further-steps"><i class="fa fa-check"></i><b>6.2</b> Limitation and Further Steps</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Study of Manufacturing Quality Exception Data and the Patterns Behind of a Food Packaging Manufacturer</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Interactive component<a href="interactive-component.html#interactive-component" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="new-interactive-features" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> New Interactive Features:<a href="interactive-component.html#new-interactive-features" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In order to have a better understanding of overall long-term trend of Average Part Weight among products inspected by Machine I4, our team will use d3.js to add a interactive feature, showing the Date and Average Part Weight Difference Ratio from Target for each point along the line. For d3.js part, we firstly create a tooltip and attach the appropriate Mouseover, Mousemove, and Mouseout event functions to dynamically move and change the visibility of a tooltip and help display the data values as the text. That newly added feature will help the user obtain the exact value of each data point without going back to check the data table anymore, and it could draw userâ€™s attention while providing additional information.</p>
</div>
<div id="instructions-for-users" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Instructions for users:<a href="interactive-component.html#instructions-for-users" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When the user moves the mouse pointer over the point along the line, the Date and Average Part Weight Difference Ratio from Target values will be displayed near the point in a black box. In addition, nothing will show on the graph when the mouse is away from the any point on the line.</p>
<html lang="en">
<head>
<meta charset="utf-8">
<title>
</title>
<script src="https://d3js.org/d3.v7.js"></script>
<style>
      .tooltip {
          position: absolute;
          pointer-events: none;
          background: #000;
          color: #fff;
          padding: 10px;
          border-radius: 10px;
          font-size: 12px;
        }
    </style>
</head>
<body>
<h3>
Average Part Weight Difference Ratio from Target of Each Product
Inspected by Machine I4
</h3>
<svg id="withaxes" width="600" height="400">
</svg>
<script>
      const svg2 = d3.select("svg#withaxes")

      const margin = {top: 20, right: 0, bottom: 40, left: 70}

      const width =  +svg2.attr("width") - margin.left - margin.right

      const height = +svg2.attr("height") - margin.top - margin.bottom

      const g = svg2.append("g").attr("transform", `translate(${margin.left}, ${margin.top})`);
      g.append("text")
    .attr("class", "x label")
    .attr("text-anchor", "end")
    .attr("x", width-260)
    .attr("y", height +35)
    .text("Date");
    
    g.append("text")
    .attr("class", "y label")
    .attr("text-anchor", "end")
    .attr("y", -60)
    .attr("dy", ".95em")
    .attr("x", -50)
    .attr("transform", "rotate(-90)")
    .text("Average Part Weight Difference Ratio");

      const parseTime = d3.timeParse("%y-%m-%d");
      const formatTime = d3.timeFormat("%B %d, %Y")

      xScale = d3.scaleTime().range([0, width]);

      yScale = d3.scaleLinear()
        .domain([-0.17, 0.15])
        .range([height, 0])

      const xAxis = d3.axisBottom()
        .scale(xScale)
        .tickFormat(d3.timeFormat("%b"));


      const line = d3.line()
        .x(d => xScale(d.date))
        .y(d => yScale(d.Part_Weight));
      var tooltip = d3.select("body")
              .append("div")
              
              .style("z-index", "10")
              .style("opacity", "0")
              
              .attr("class", "tooltip");
      const data =
      [{'date': '22-09-01', 'Part_Weight': -0.0356},
 {'date': '22-09-02', 'Part_Weight': 0.0437},
 {'date': '22-09-03', 'Part_Weight': 0.0834},
 {'date': '22-09-04', 'Part_Weight': 0.0773},
 {'date': '22-09-05', 'Part_Weight': 0.0702},
 {'date': '22-09-06', 'Part_Weight': 0.027},
 {'date': '22-09-07', 'Part_Weight': -0.0079},
 {'date': '22-09-08', 'Part_Weight': -0.0286},
 {'date': '22-09-09', 'Part_Weight': 0.0297},
 {'date': '22-09-10', 'Part_Weight': 0.0559},
 {'date': '22-09-11', 'Part_Weight': -0.0038},
 {'date': '22-09-12', 'Part_Weight': 0.0675},
 {'date': '22-09-13', 'Part_Weight': 0.0498},
 {'date': '22-09-14', 'Part_Weight': -0.0727},
 {'date': '22-09-15', 'Part_Weight': -0.0418},
 {'date': '22-09-16', 'Part_Weight': -0.085},
 {'date': '22-09-17', 'Part_Weight': -0.0595},
 {'date': '22-09-18', 'Part_Weight': -0.0509},
 {'date': '22-09-19', 'Part_Weight': -0.0108},
 {'date': '22-09-20', 'Part_Weight': 0.0491},
 {'date': '22-09-21', 'Part_Weight': 0.0446},
 {'date': '22-09-22', 'Part_Weight': -0.0449},
 {'date': '22-09-23', 'Part_Weight': -0.0794},
 {'date': '22-09-24', 'Part_Weight': 0.0104},
 {'date': '22-09-26', 'Part_Weight': 0.0509},
 {'date': '22-09-27', 'Part_Weight': -0.0333},
 {'date': '22-09-28', 'Part_Weight': 0.0278},
 {'date': '22-09-29', 'Part_Weight': -0.0437},
 {'date': '22-09-30', 'Part_Weight': -0.0795},
 {'date': '22-10-01', 'Part_Weight': -0.0676},
 {'date': '22-10-02', 'Part_Weight': -0.0601},
 {'date': '22-10-03', 'Part_Weight': -0.0546},
 {'date': '22-10-04', 'Part_Weight': 0.1219},
 {'date': '22-10-05', 'Part_Weight': 0.0803},
 {'date': '22-10-06', 'Part_Weight': 0.0883},
 {'date': '22-10-07', 'Part_Weight': 0.125},
 {'date': '22-10-08', 'Part_Weight': 0.0842},
 {'date': '22-10-09', 'Part_Weight': 0.0816},
 {'date': '22-10-10', 'Part_Weight': 0.1065},
 {'date': '22-10-11', 'Part_Weight': 0.0707},
 {'date': '22-10-12', 'Part_Weight': 0.0595},
 {'date': '22-10-13', 'Part_Weight': 0.1385},
 {'date': '22-10-14', 'Part_Weight': 0.1606},
 {'date': '22-10-15', 'Part_Weight': 0.1462},
 {'date': '22-10-16', 'Part_Weight': 0.1333},
 {'date': '22-10-17', 'Part_Weight': 0.1338},
 {'date': '22-10-18', 'Part_Weight': 0.0892},
 {'date': '22-10-19', 'Part_Weight': 0.0812},
 {'date': '22-10-20', 'Part_Weight': 0.08},
 {'date': '22-10-21', 'Part_Weight': 0.0738},
 {'date': '22-10-22', 'Part_Weight': 0.0922},
 {'date': '22-10-23', 'Part_Weight': 0.1076},
 {'date': '22-10-24', 'Part_Weight': 0.0689},
 {'date': '22-10-25', 'Part_Weight': 0.0169},
 {'date': '22-10-26', 'Part_Weight': -0.0904},
 {'date': '22-10-27', 'Part_Weight': 0.0404},
 {'date': '22-10-28', 'Part_Weight': 0.0574},
 {'date': '22-10-29', 'Part_Weight': 0.0443},
 {'date': '22-10-30', 'Part_Weight': 0.0523},
 {'date': '22-11-01', 'Part_Weight': 0.0275},
 {'date': '22-11-02', 'Part_Weight': 0.0375},
 {'date': '22-11-03', 'Part_Weight': 0.0501},
 {'date': '22-11-04', 'Part_Weight': 0.0277},
 {'date': '22-11-05', 'Part_Weight': -0.0423},
 {'date': '22-11-06', 'Part_Weight': 0.0274},
 {'date': '22-11-12', 'Part_Weight': -0.1308},
 {'date': '22-11-13', 'Part_Weight': 0.1005},
 {'date': '22-11-14', 'Part_Weight': 0.1088},
 {'date': '22-11-15', 'Part_Weight': -0.0995},
 {'date': '22-11-16', 'Part_Weight': 0.011},
 {'date': '22-11-17', 'Part_Weight': 0.0394},
 {'date': '22-11-18', 'Part_Weight': 0.0382},
 {'date': '22-11-22', 'Part_Weight': 0.0391},
 {'date': '22-11-23', 'Part_Weight': 0.0621},
 {'date': '22-11-24', 'Part_Weight': -0.0633},
 {'date': '22-11-28', 'Part_Weight': -0.0721},
 {'date': '22-11-29', 'Part_Weight': -0.0348},
 {'date': '22-11-30', 'Part_Weight': 0.0023},
 {'date': '22-12-01', 'Part_Weight': 0.053}
];
      data.forEach(function(d) {
            d.date = parseTime(d.date);
      });
      
      xScale
        .domain(d3.extent(data, d => d.date))

      g.append("g")
          .attr("transform", `translate(0, ${height})`)
          .call(xAxis);

      g.append("g")
          .call(d3.axisLeft(yScale))

      function goyellow() {
        d3.select(this)
          .append(text)
            .attr("x", "100")
            .attr("y", "40")
            .text("date");
            };
      g.append("path")
          .datum(data)
          .attr("class", "line")
          .attr("fill", "none")
          .attr("stroke", "blue")
          .attr("stroke-width", 2)
          .attr("d", line)
          .on("mouseover", mouseoverFunc)
          .on("mousemove", mousemoveFunc)
            .on("mouseout", mouseoutFunc);
      const [min, max] = d3.extent(data, d=>d.date);
      function mouseoverFunc(mouse, d) {
        //coordinates
        const [x_cord,y_cord] = d3.pointer(mouse);
        
        const current_date = xScale.invert(x_cord);
        const current_Part_Weight = yScale.invert(y_cord);
        return tooltip
            .style("opacity", "1")
            .html("Date: " + formatTime(current_date) + "<br/> Part_Weight: " + current_Part_Weight)
            .style("left", (x_cord+150) + "px")
            .style("top", (y_cord+500) + "px")
            }

          function mousemoveFunc(mouse, d) {
              const [x_cord,y_cord] = d3.pointer(mouse);
          const current_date = xScale.invert(x_cord);
          const current_Part_Weight = yScale.invert(y_cord);
          return tooltip
          .style("opacity", "1")
            .html("Date: " + formatTime(current_date) + "<br/> Part_Weight: " + current_Part_Weight)
            .style("left", (x_cord+450) + "px")
            .style("top", (y_cord+500) + "px")
          }

          function mouseoutFunc(d) {
          return tooltip.style("opacity", "0")
        }
          
    </script>
</body>
</html>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/JQmiracle/EDAV_Final_Project_G26/edit/main/interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/JQmiracle/EDAV_Final_Project_G26/blob/main/interactive.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
